[Skip to content](https://github.com/uwol/proleap-cobol-parser#start-of-content)

[uwol](https://github.com/uwol)/ **[proleap-cobol-parser](https://github.com/uwol/proleap-cobol-parser)** Public

- [Notifications](https://github.com/login?return_to=%2Fuwol%2Fproleap-cobol-parser) You must be signed in to change notification settings
- [Fork\\
84](https://github.com/login?return_to=%2Fuwol%2Fproleap-cobol-parser)
- [Star\\
167](https://github.com/login?return_to=%2Fuwol%2Fproleap-cobol-parser)


ProLeap ANTLR4-based parser for COBOL


### License

[MIT license](https://github.com/uwol/proleap-cobol-parser/blob/main/LICENSE)

[167\\
stars](https://github.com/uwol/proleap-cobol-parser/stargazers) [84\\
forks](https://github.com/uwol/proleap-cobol-parser/forks) [Branches](https://github.com/uwol/proleap-cobol-parser/branches) [Tags](https://github.com/uwol/proleap-cobol-parser/tags) [Activity](https://github.com/uwol/proleap-cobol-parser/activity)

[Star](https://github.com/login?return_to=%2Fuwol%2Fproleap-cobol-parser)

[Notifications](https://github.com/login?return_to=%2Fuwol%2Fproleap-cobol-parser) You must be signed in to change notification settings

# uwol/proleap-cobol-parser

main

[Branches](https://github.com/uwol/proleap-cobol-parser/branches) [Tags](https://github.com/uwol/proleap-cobol-parser/tags)

[Go to Branches page](https://github.com/uwol/proleap-cobol-parser/branches)[Go to Tags page](https://github.com/uwol/proleap-cobol-parser/tags)

Go to file

Code

Open more actions menu

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>## History<br>[702 Commits](https://github.com/uwol/proleap-cobol-parser/commits/main/)<br>[View commit history for this file.](https://github.com/uwol/proleap-cobol-parser/commits/main/) |
| [.github](https://github.com/uwol/proleap-cobol-parser/tree/main/.github ".github") | [.github](https://github.com/uwol/proleap-cobol-parser/tree/main/.github ".github") |  |  |
| [src](https://github.com/uwol/proleap-cobol-parser/tree/main/src "src") | [src](https://github.com/uwol/proleap-cobol-parser/tree/main/src "src") |  |  |
| [.gitignore](https://github.com/uwol/proleap-cobol-parser/blob/main/.gitignore ".gitignore") | [.gitignore](https://github.com/uwol/proleap-cobol-parser/blob/main/.gitignore ".gitignore") |  |  |
| [CONTRIBUTING.md](https://github.com/uwol/proleap-cobol-parser/blob/main/CONTRIBUTING.md "CONTRIBUTING.md") | [CONTRIBUTING.md](https://github.com/uwol/proleap-cobol-parser/blob/main/CONTRIBUTING.md "CONTRIBUTING.md") |  |  |
| [LICENSE](https://github.com/uwol/proleap-cobol-parser/blob/main/LICENSE "LICENSE") | [LICENSE](https://github.com/uwol/proleap-cobol-parser/blob/main/LICENSE "LICENSE") |  |  |
| [README.md](https://github.com/uwol/proleap-cobol-parser/blob/main/README.md "README.md") | [README.md](https://github.com/uwol/proleap-cobol-parser/blob/main/README.md "README.md") |  |  |
| [pom.xml](https://github.com/uwol/proleap-cobol-parser/blob/main/pom.xml "pom.xml") | [pom.xml](https://github.com/uwol/proleap-cobol-parser/blob/main/pom.xml "pom.xml") |  |  |
| View all files |

## Repository files navigation

# ProLeap ANTLR4-based parser for COBOL

[Permalink: ProLeap ANTLR4-based parser for COBOL](https://github.com/uwol/proleap-cobol-parser#proleap-antlr4-based-parser-for-cobol)

This is a **COBOL parser** based on an [ANTLR4 grammar](https://github.com/uwol/proleap-cobol-parser/blob/main/src/main/antlr4/io/proleap/cobol/Cobol.g4),
which generates an **Abstract Syntax Tree** (AST) and **Abstract Semantic Graph** (ASG) for COBOL code.
The AST represents plain COBOL source code in a syntax tree structure.
The ASG is generated from the AST by **semantic analysis** and provides data and control
flow information (e. g. variable access). EXEC SQL, EXEC SQLIMS and EXEC CICS
statements are extracted as texts.

The parser is developed test-driven, passes the **NIST test suite** and has successfully been **applied to numerous COBOL files** from banking and insurance. It is used by the [ProLeap analyzer, interpreter & transformer for COBOL](https://github.com/proleap/proleap-cobol).

ðŸ’« **Star** if you like our work.

[![License: MIT](https://camo.githubusercontent.com/6cd0120cc4c5ac11d28b2c60f76033b52db98dac641de3b2644bb054b449d60c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d79656c6c6f772e737667)](https://opensource.org/licenses/MIT)[![ProLeap on Twitter](https://camo.githubusercontent.com/14280976cabe0499c0913dfd3e286fa535e91e4c06c944574a4cd22b0e258414/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f70726f6c6561705f696f2e7376673f7374796c653d736f6369616c266c6162656c3d466f6c6c6f77)](https://twitter.com/proleap_io)

## Example

[Permalink: Example](https://github.com/uwol/proleap-cobol-parser#example)

### Input: COBOL code

[Permalink: Input: COBOL code](https://github.com/uwol/proleap-cobol-parser#input-cobol-code)

```
 Identification Division.
 Program-ID.
  HELLOWORLD.
 Procedure Division.
  Display "Hello world".
  STOP RUN.

```

### Output: Abstract Syntax Tree (AST)

[Permalink: Output: Abstract Syntax Tree (AST)](https://github.com/uwol/proleap-cobol-parser#output-abstract-syntax-tree-ast)

```
(startRule
  (compilationUnit
    (programUnit
      (identificationDivision Identification Division .
        (programIdParagraph Program-ID .
          (programName
            (cobolWord HELLOWORLD)) .))
      (procedureDivision Procedure Division .
        (procedureDivisionBody
          (paragraphs
            (sentence
              (statement
                (displayStatement Display
                  (displayOperand
                    (literal "Hello world")))) .)
            (sentence
              (statement
                (stopStatement STOP RUN))) .)))))) <EOF>)

```

## Getting started

[Permalink: Getting started](https://github.com/uwol/proleap-cobol-parser#getting-started)

To include the parser in your Maven project build it and add the dependency:

```
<dependency>
  <groupId>io.github.uwol</groupId>
  <artifactId>proleap-cobol-parser</artifactId>
  <version>4.0.0</version>
</dependency>

```

Use the following code as a starting point for developing own code.

### Simple: Generate an Abstract Semantic Graph (ASG) from COBOL code

[Permalink: Simple: Generate an Abstract Semantic Graph (ASG) from COBOL code](https://github.com/uwol/proleap-cobol-parser#simple-generate-an-abstract-semantic-graph-asg-from-cobol-code)

```
// generate ASG from plain COBOL code
java.io.File inputFile = new java.io.File("src/test/resources/io/proleap/cobol/asg/HelloWorld.cbl");
io.proleap.cobol.preprocessor.CobolPreprocessor.CobolSourceFormatEnum format = io.proleap.cobol.preprocessor.CobolPreprocessor.CobolSourceFormatEnum.TANDEM;
io.proleap.cobol.asg.metamodel.Program program = new io.proleap.cobol.asg.runner.impl.CobolParserRunnerImpl().analyzeFile(inputFile, format);

// navigate on ASG
io.proleap.cobol.asg.metamodel.CompilationUnit compilationUnit = program.getCompilationUnit("HelloWorld");
io.proleap.cobol.asg.metamodel.ProgramUnit programUnit = compilationUnit.getProgramUnit();
io.proleap.cobol.asg.metamodel.data.DataDivision dataDivision = programUnit.getDataDivision();
io.proleap.cobol.asg.metamodel.data.datadescription.DataDescriptionEntry dataDescriptionEntry = dataDivision.getWorkingStorageSection().getDataDescriptionEntry("ITEMS");
Integer levelNumber = dataDescriptionEntry.getLevelNumber();
```

### Complex: Generate an Abstract Semantic Graph (ASG) and traverse the Abstract Syntax Tree (AST)

[Permalink: Complex: Generate an Abstract Semantic Graph (ASG) and traverse the Abstract Syntax Tree (AST)](https://github.com/uwol/proleap-cobol-parser#complex-generate-an-abstract-semantic-graph-asg-and-traverse-the-abstract-syntax-tree-ast)

```
// generate ASG from plain COBOL code
java.io.File inputFile = new java.io.File("src/test/resources/io/proleap/cobol/asg/HelloWorld.cbl");
io.proleap.cobol.preprocessor.CobolPreprocessor.CobolSourceFormatEnum format = io.proleap.cobol.preprocessor.CobolPreprocessor.CobolSourceFormatEnum.TANDEM;
io.proleap.cobol.asg.metamodel.Program program = new io.proleap.cobol.asg.runner.impl.CobolParserRunnerImpl().analyzeFile(inputFile, format);

// traverse the AST
io.proleap.cobol.CobolBaseVisitor<Boolean> visitor = new io.proleap.cobol.CobolBaseVisitor<Boolean>() {
  @Override
  public Boolean visitDataDescriptionEntryFormat1(final io.proleap.cobol.CobolParser.DataDescriptionEntryFormat1Context ctx) {
    io.proleap.cobol.asg.metamodel.data.datadescription.DataDescriptionEntry entry = (io.proleap.cobol.asg.metamodel.data.datadescription.DataDescriptionEntry) program.getASGElementRegistry().getASGElement(ctx);
    String name = entry.getName();

    return visitChildren(ctx);
  }
};

for (final io.proleap.cobol.asg.metamodel.CompilationUnit compilationUnit : program.getCompilationUnits()) {
  visitor.visit(compilationUnit.getCtx());
}
```

## Where to look next

[Permalink: Where to look next](https://github.com/uwol/proleap-cobol-parser#where-to-look-next)

- [ANTLR4 COBOL grammar](https://github.com/uwol/proleap-cobol-parser/blob/main/src/main/antlr4/io/proleap/cobol/Cobol.g4)
- [ANTLR4 COBOL preprocessor grammar](https://github.com/uwol/proleap-cobol-parser/blob/main/src/main/antlr4/io/proleap/cobol/CobolPreprocessor.g4)
- [Unit test code examples](https://github.com/uwol/proleap-cobol-parser/blob/main/src/test/java/io/proleap/cobol/asg/data/workingstorage)
- [ProLeap analyzer, interpreter & transformer for COBOL](https://github.com/proleap/proleap-cobol)

## How to cite

[Permalink: How to cite](https://github.com/uwol/proleap-cobol-parser#how-to-cite)

Please cite ProLeap COBOL parser in your publications, if it helps your research. Here is an example BibTeX entry:

```
@misc{wolffgang2018cobol,
  title={ProLeap COBOL parser},
  author={Wolffgang, Ulrich and others},
  year={2018},
  howpublished={\url{https://github.com/uwol/proleap-cobol-parser}},
}

```

## Features

[Permalink: Features](https://github.com/uwol/proleap-cobol-parser#features)

- `EXEC SQL` statements, `EXEC SQLIMS` statements and `EXEC CICS` statements are extracted by the preprocessor and provided as texts in the ASG.
- Passes the [NIST test suite](https://www.itl.nist.gov/div897/ctg/cobol_form.htm).
- Rigorous test-driven development.
- To be used in conjunction with the provided preprocessor, which executes `COPY`, `REPLACE`, `CBL` and `PROCESS` statements.

## Build process

[Permalink: Build process](https://github.com/uwol/proleap-cobol-parser#build-process)

The build process is based on Maven (version 3 or higher). Building requires a JDK 17 and generates a Maven JAR, which can be used in other Maven projects as a dependency.

- Clone or download the repository.
- In [Eclipse](https://eclipse.org/) import the directory as a an `existing Maven project`.
- To build, run:

```
$ mvn clean package

```

- The test suite executes AST and ASG tests against COBOL test code and NIST test files. NIST test files come from [Koopa repo](https://github.com/krisds/koopa/tree/master/testsuite/cobol85). Unit tests and parse tree files were generated by class `io.proleap.cobol.TestGenerator` from COBOL test files. The generator derives the COBOL line format from the containing folder name.
- You should see output like this:

```
[INFO] Scanning for projects...
...
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.proleap.cobol.ast.fixed.FixedTest
Preprocessing file Fixed.cbl.
Parsing file Fixed.cbl.
Comparing parse tree with file Fixed.cbl.tree.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.202 sec
Running io.proleap.cobol.ast.fixed.QuotesInCommentEntryTest
...
Results :

Tests run: 680, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------

```

- To install the JAR in your local Maven repository:

```
$ mvn clean install

```

- To only run the tests:

```
$ mvn clean test

```

## Release process

[Permalink: Release process](https://github.com/uwol/proleap-cobol-parser#release-process)

- Milestones of the grammar are published in the [ANTLR grammars repo](https://github.com/antlr/grammars-v4).

## License

[Permalink: License](https://github.com/uwol/proleap-cobol-parser#license)

Licensed under the MIT License. See LICENSE for details.

## About

ProLeap ANTLR4-based parser for COBOL


### Topics

[parser](https://github.com/topics/parser "Topic: parser") [grammar](https://github.com/topics/grammar "Topic: grammar") [antlr](https://github.com/topics/antlr "Topic: antlr") [ast](https://github.com/topics/ast "Topic: ast") [cobol](https://github.com/topics/cobol "Topic: cobol") [syntax-tree](https://github.com/topics/syntax-tree "Topic: syntax-tree") [asg](https://github.com/topics/asg "Topic: asg") [antlr4](https://github.com/topics/antlr4 "Topic: antlr4") [antlr4-grammar](https://github.com/topics/antlr4-grammar "Topic: antlr4-grammar")

### Resources

[Readme](https://github.com/uwol/proleap-cobol-parser#readme-ov-file)

### License

[MIT license](https://github.com/uwol/proleap-cobol-parser#MIT-1-ov-file)

### Contributing

[Contributing](https://github.com/uwol/proleap-cobol-parser#contributing-ov-file)

[Activity](https://github.com/uwol/proleap-cobol-parser/activity)

### Stars

[**167**\\
stars](https://github.com/uwol/proleap-cobol-parser/stargazers)

### Watchers

[**15**\\
watching](https://github.com/uwol/proleap-cobol-parser/watchers)

### Forks

[**84**\\
forks](https://github.com/uwol/proleap-cobol-parser/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fuwol%2Fproleap-cobol-parser&report=uwol+%28user%29)

## [Releases\  5](https://github.com/uwol/proleap-cobol-parser/releases)

[v2.4.0\\
Latest\\
\\
Jan 1, 2018](https://github.com/uwol/proleap-cobol-parser/releases/tag/v2.4.0)

[\+ 4 releases](https://github.com/uwol/proleap-cobol-parser/releases)

## [Packages](https://github.com/users/uwol/packages?repo_name=proleap-cobol-parser)

No packages published

## [Contributors\  6](https://github.com/uwol/proleap-cobol-parser/graphs/contributors)

- [![@uwol](https://avatars.githubusercontent.com/u/3158914?s=64&v=4)](https://github.com/uwol)
- [![@stawi](https://avatars.githubusercontent.com/u/3306851?s=64&v=4)](https://github.com/stawi)
- [![@Slesa](https://avatars.githubusercontent.com/u/386471?s=64&v=4)](https://github.com/Slesa)
- [![@GitMensch](https://avatars.githubusercontent.com/u/6699539?s=64&v=4)](https://github.com/GitMensch)
- [![@httpdigest](https://avatars.githubusercontent.com/u/7488613?s=64&v=4)](https://github.com/httpdigest)
- [![@sebdei](https://avatars.githubusercontent.com/u/23342317?s=64&v=4)](https://github.com/sebdei)

## Languages

- [COBOL90.3%](https://github.com/uwol/proleap-cobol-parser/search?l=cobol)
- [Java9.4%](https://github.com/uwol/proleap-cobol-parser/search?l=java)
- [ANTLR0.3%](https://github.com/uwol/proleap-cobol-parser/search?l=antlr)